<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.95, maximum-scale=5.0, user-scalable=yes">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="DSOG Training - Comprehensive training programs with clear objectives, structured schedules, and measurable outcomes designed for sustainable business growth.">
    <meta name="keywords" content="DSOG training, business training programs, professional development, market expansion, client engagement, business fundamentals, online training">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#C21807">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="DSOG Training">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="DSOG Training">
    <meta name="msapplication-TileColor" content="#C21807">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="DSOG Training | Master Your Business Skills">
    <meta property="og:description" content="Comprehensive training programs with clear objectives, structured schedules, and measurable outcomes designed for sustainable business growth.">
    <meta property="og:image" content="https://i.postimg.cc/tJxsdYP5/20260114-1505-Image-Generation-simple-compose-01key6a7x9ff0r23ew4psp722c-2-1.webp">
    <meta property="og:url" content="https://dsog.org/training">
    <meta property="og:type" content="website">
    
    <title>DSOG Training | Master Your Business Skills with Structured Education</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Manrope:wght@400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
    
    <!-- Training Page Styles -->
    <style>
        /* ===== CSS CUSTOM PROPERTIES ===== */
        :root {
            /* Professional Color Palette */
            --primary-red: #C21807;
            --primary-dark: #1A1A1A;
            --primary-gold: #D4AF37;
            --secondary-red: #E53935;
            --secondary-dark: #2D2D2D;
            --accent-blue: #2C5282;
            --accent-green: #2D7D46;
            --accent-purple: #6B46C1;
            --mpesa-green: #00A900;
            --mpesa-dark-green: #007E00;
            
            /* Neutral Colors */
            --white: #FFFFFF;
            --light-gray: #F8F9FA;
            --medium-gray: #E9ECEF;
            --dark-gray: #6C757D;
            --black: #212529;
            
            /* Light Mode Colors */
            --bg-primary: var(--white);
            --bg-secondary: var(--light-gray);
            --bg-tertiary: var(--medium-gray);
            --text-primary: var(--black);
            --text-secondary: var(--dark-gray);
            --text-tertiary: #868E96;
            --border-color: #DEE2E6;
            --card-bg: var(--white);
            --footer-bg: var(--primary-dark);
            
            /* Professional Shadow System */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.03);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.03);
            --shadow-xl: 0 20px 25px -5px rgba(194, 24, 7, 0.05), 0 10px 10px -5px rgba(194, 24, 7, 0.02);
            --shadow-2xl: 0 25px 50px -12px rgba(194, 24, 7, 0.15);
            --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.04);
            
            /* Advanced Gradients */
            --gradient-primary: linear-gradient(135deg, #C21807 0%, #E53935 100%);
            --gradient-gold: linear-gradient(135deg, #D4AF37 0%, #F4D03F 100%);
            --gradient-dark: linear-gradient(135deg, #1A1A1A 0%, #2D2D2D 100%);
            --gradient-light: linear-gradient(135deg, var(--white) 0%, #F8F9FA 100%);
            --gradient-card: linear-gradient(145deg, var(--white) 0%, #F8F9FA 100%);
            --gradient-training: linear-gradient(135deg, #2C5282 0%, #4299E1 100%);
            --gradient-success: linear-gradient(135deg, #2D7D46 0%, #48BB78 100%);
            
            /* Animation Properties */
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --transition-fast: all 0.15s ease-out;
            --transition-slow: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Border Radius System */
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 14px;
            --radius-xl: 18px;
            --radius-2xl: 22px;
            --radius-full: 9999px;
            
            /* Spacing System */
            --space-3xs: 0.125rem;
            --space-2xs: 0.25rem;
            --space-xs: 0.5rem;
            --space-sm: 0.75rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;
            --space-4xl: 6rem;
            --space-5xl: 8rem;
            
            /* Professional Typography */
            --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            --font-heading: 'Manrope', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-spiritual: 'Playfair Display', serif;
            
            /* Layout Variables */
            --header-height: 72px;
            --container-width: 1320px;
            --nav-item-spacing: 2.5rem;
            --logo-size: 40px;
            
            /* Glass Morphism */
            --glass-bg: rgba(255, 255, 255, 0.92);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            
            /* Z-index Layers */
            --z-negative: -1;
            --z-normal: 1;
            --z-dropdown: 100;
            --z-sticky: 200;
            --z-fixed: 1000;
            --z-modal: 10000;
            --z-tooltip: 100000;
        }

        /* Dark Theme Variables */
        [data-theme="dark"] {
            --bg-primary: #121212;
            --bg-secondary: #1E1E1E;
            --bg-tertiary: #2D2D2D;
            --card-bg: #1E1E1E;
            --text-primary: #F5F5F5;
            --text-secondary: #B0B0B0;
            --text-tertiary: #808080;
            --border-color: #404040;
            --footer-bg: #0A0A0A;
            --glass-bg: rgba(30, 30, 30, 0.92);
            --glass-border: rgba(255, 255, 255, 0.1);
            --gradient-light: linear-gradient(135deg, #1E1E1E 0%, #2D2D2D 100%);
            --gradient-card: linear-gradient(145deg, #1E1E1E 0%, #252525 100%);
            --white: #1E1E1E;
            --light-gray: #2D2D2D;
            --medium-gray: #404040;
            --mpesa-green: #00CC00;
            --mpesa-dark-green: #009900;
        }

        /* ===== CSS RESET & BASE STYLES ===== */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            scroll-padding-top: calc(var(--header-height) + 20px);
            text-rendering: optimizeLegibility;
        }

        body {
            font-family: var(--font-primary);
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            overflow-x: hidden;
            transition: var(--transition-smooth);
            position: relative;
            min-height: 100vh;
            font-size: 0.9375rem;
            font-weight: 400;
            letter-spacing: 0.01em;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: var(--radius-full);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            border: 2px solid var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-red);
        }

        /* Selection Color */
        ::selection {
            background: rgba(194, 24, 7, 0.2);
            color: var(--text-primary);
        }

        /* ===== HEADER ===== */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--header-height);
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--border-color);
            z-index: var(--z-fixed);
            transition: var(--transition-smooth);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="dark"] .header {
            border-bottom: 1px solid rgba(64, 64, 64, 0.8);
        }

        .header.scrolled {
            box-shadow: var(--shadow-lg);
        }

        /* Navbar Container */
        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
            width: 100%;
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 var(--space-xl);
            gap: var(--space-xl);
        }

        /* Logo */
        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            text-decoration: none;
            flex-shrink: 0;
            padding: var(--space-xs) 0;
            height: 100%;
        }

        .logo-image {
            height: var(--logo-size);
            width: auto;
            object-fit: contain;
            display: block;
            transition: var(--transition-smooth);
        }

        [data-theme="dark"] .logo-image {
            filter: brightness(0) invert(1);
        }

        .logo-text {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-primary);
            letter-spacing: -0.02em;
            line-height: 1;
            white-space: nowrap;
        }

        .logo-text span {
            color: var(--primary-red);
            font-weight: 700;
        }

        /* Main Navigation */
        .nav-links {
            display: flex;
            align-items: center;
            gap: var(--nav-item-spacing);
            margin: 0;
            padding: 0;
            list-style: none;
            height: 100%;
        }

        .nav-link {
            position: relative;
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.875rem;
            padding: 0;
            height: 100%;
            display: flex;
            align-items: center;
            transition: var(--transition-fast);
            letter-spacing: 0.01em;
            white-space: nowrap;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-primary);
            transition: var(--transition-smooth);
            border-radius: 1px;
        }

        .nav-link:hover {
            color: var(--primary-red);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link.active {
            color: var(--primary-red);
            font-weight: 600;
        }

        .nav-link.active::after {
            width: 100%;
        }

        /* Contact Button */
        .nav-links .btn-primary {
            font-size: 0.875rem;
            padding: var(--space-sm) var(--space-lg);
            height: auto;
            margin-left: var(--space-sm);
            flex-shrink: 0;
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            align-items: center;
            justify-content: center;
            background: none;
            border: none;
            color: var(--primary-red);
            font-size: 1.25rem;
            cursor: pointer;
            padding: var(--space-sm);
            border-radius: var(--radius-md);
            transition: var(--transition-smooth);
            z-index: var(--z-dropdown);
            width: 44px;
            height: 44px;
            flex-shrink: 0;
        }

        .mobile-menu-btn:hover {
            background: var(--bg-tertiary);
        }

        /* ===== TYPOGRAPHY ===== */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.02em;
            margin-bottom: var(--space-md);
            color: var(--text-primary);
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 800;
            letter-spacing: -0.03em;
        }

        h2 {
            font-size: clamp(1.875rem, 4vw, 2.75rem);
            font-weight: 700;
        }

        h3 {
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 600;
        }

        .text-gradient {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }

        .text-gradient-training {
            background: var(--gradient-training);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }

        .text-gradient-success {
            background: var(--gradient-success);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }

        .lead {
            font-size: clamp(1.125rem, 2vw, 1.25rem);
            color: var(--text-secondary);
            line-height: 1.6;
            font-weight: 400;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        p {
            margin-bottom: var(--space-md);
            color: var(--text-secondary);
            line-height: 1.7;
            font-weight: 400;
        }

        /* ===== LAYOUT & CONTAINERS ===== */
        .container {
            width: 100%;
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 var(--space-xl);
        }

        section {
            padding: var(--space-4xl) 0;
            position: relative;
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--space-3xl);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .section-header h2 {
            position: relative;
            display: inline-block;
            margin-bottom: var(--space-lg);
        }

        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }

        .section-subtitle {
            color: var(--text-tertiary);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: var(--space-sm);
            display: block;
            font-weight: 600;
        }

        /* ===== BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-xl);
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 0.875rem;
            text-decoration: none;
            border: 1px solid transparent;
            cursor: pointer;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            letter-spacing: 0.02em;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: var(--white) !important;
            border: none;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary-red);
            border: 1px solid var(--primary-red);
        }

        .btn-secondary:hover {
            background: var(--primary-red);
            color: var(--white) !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(194, 24, 7, 0.2);
        }

        .btn-training {
            background: var(--gradient-training);
            color: var(--white) !important;
            border: none;
        }

        .btn-training:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(44, 82, 130, 0.3);
        }

        .btn-success {
            background: var(--gradient-success);
            color: var(--white) !important;
            border: none;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(45, 125, 70, 0.3);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-outline:hover {
            border-color: var(--primary-red);
            color: var(--primary-red);
            transform: translateY(-2px);
        }

        .btn-small {
            padding: var(--space-sm) var(--space-lg);
            font-size: 0.85rem;
        }

        .btn-large {
            padding: var(--space-lg) var(--space-2xl);
            font-size: 1rem;
        }

        .btn-block {
            width: 100%;
        }

        /* ===== TRAINING HERO ===== */
        .training-hero {
            min-height: 80vh;
            display: flex;
            align-items: center;
            padding-top: var(--header-height);
            background: var(--gradient-light);
            position: relative;
            overflow: hidden;
        }

        .training-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(44, 82, 130, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(194, 24, 7, 0.03) 0%, transparent 50%);
            z-index: var(--z-negative);
        }

        .training-hero-content {
            position: relative;
            z-index: var(--z-normal);
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
            padding: 0 var(--space-xl);
        }

        .training-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            background: var(--gradient-training);
            color: var(--white);
            padding: var(--space-sm) var(--space-lg);
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            margin-bottom: var(--space-xl);
            box-shadow: var(--shadow-lg);
            text-transform: uppercase;
        }

        .hero-highlights {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--space-lg);
            margin: var(--space-xl) 0;
        }

        .highlight-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            background: var(--gradient-card);
            padding: var(--space-md) var(--space-lg);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            min-width: 200px;
            transition: var(--transition-smooth);
        }

        .highlight-item:hover {
            transform: translateY(-4px);
            border-color: var(--accent-blue);
            box-shadow: var(--shadow-md);
        }

        .highlight-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-training);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .hero-buttons {
            display: flex;
            gap: var(--space-md);
            justify-content: center;
            flex-wrap: wrap;
            margin-top: var(--space-2xl);
        }

        /* ===== TRAINING PROGRAMS ===== */
        .training-programs {
            background: var(--bg-primary);
            padding: var(--space-4xl) 0;
        }

        .programs-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto var(--space-3xl);
        }

        .programs-intro p {
            font-size: 1.125rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* ===== PROGRAM CATEGORIES ===== */
        .program-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-xl);
            margin-top: var(--space-2xl);
        }

        .category-card {
            background: var(--gradient-card);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            text-align: center;
            border: 1px solid var(--border-color);
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--accent-blue);
        }

        .category-icon {
            width: 70px;
            height: 70px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-lg);
            font-size: 1.75rem;
            color: var(--white);
            background: var(--gradient-training);
        }

        .category-tag {
            display: inline-block;
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: var(--space-md);
            background: rgba(44, 82, 130, 0.1);
            color: var(--accent-blue);
            border: 1px solid rgba(44, 82, 130, 0.2);
        }

        /* ===== TRAINING SCHEDULES ===== */
        .training-schedules {
            background: var(--bg-secondary);
            padding: var(--space-4xl) 0;
        }

        .schedules-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .quarter-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin-bottom: var(--space-2xl);
            justify-content: center;
        }

        .quarter-tab {
            padding: var(--space-md) var(--space-xl);
            background: var(--gradient-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: var(--transition-smooth);
            font-weight: 600;
            color: var(--text-secondary);
        }

        .quarter-tab:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
            transform: translateY(-2px);
        }

        .quarter-tab.active {
            background: var(--gradient-training);
            color: white;
            border-color: var(--accent-blue);
            box-shadow: var(--shadow-md);
        }

        .programs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--space-xl);
        }

        .program-card {
            background: var(--gradient-card);
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: var(--transition-smooth);
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .program-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--accent-blue);
        }

        .program-image-container {
            position: relative;
            width: 100%;
            height: 220px;
            overflow: hidden;
        }

        .program-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition-smooth);
        }

        .program-card:hover .program-image {
            transform: scale(1.05);
        }

        .program-duration-badge {
            position: absolute;
            top: var(--space-md);
            left: var(--space-md);
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-md);
            font-size: 0.85rem;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            z-index: var(--z-normal);
            color: var(--white);
            background: var(--gradient-training);
        }

        .program-content {
            padding: var(--space-xl);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .program-category {
            display: inline-block;
            padding: var(--space-2xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: var(--space-md);
            letter-spacing: 0.05em;
            align-self: flex-start;
            background: rgba(44, 82, 130, 0.1);
            color: var(--accent-blue);
        }

        .program-details {
            flex-grow: 1;
        }

        .program-details h3 {
            margin-bottom: var(--space-sm);
            line-height: 1.3;
        }

        .program-details p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: var(--space-lg);
        }

        .program-objectives {
            margin: var(--space-md) 0;
            padding-left: var(--space-lg);
        }

        .program-objectives li {
            margin-bottom: var(--space-xs);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .program-meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
            padding-top: var(--space-md);
            border-top: 1px solid var(--border-color);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            color: var(--text-tertiary);
            font-size: 0.85rem;
        }

        .meta-item i {
            width: 16px;
            color: var(--accent-blue);
        }

        .enroll-button {
            margin-top: auto;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
        }

        /* ===== TRAINING OUTCOMES ===== */
        .training-outcomes {
            background: var(--bg-primary);
            padding: var(--space-4xl) 0;
        }

        .outcomes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-xl);
            margin-top: var(--space-2xl);
        }

        .outcome-card {
            text-align: center;
            padding: var(--space-xl);
            background: var(--gradient-card);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
        }

        .outcome-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-green);
            box-shadow: var(--shadow-lg);
        }

        .outcome-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--accent-green);
            margin-bottom: var(--space-sm);
            line-height: 1;
        }

        .outcome-card h4 {
            margin-bottom: var(--space-sm);
        }

        .outcome-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* ===== REGISTRATION INFO ===== */
        .registration-info {
            background: var(--bg-secondary);
            padding: var(--space-4xl) 0;
        }

        .registration-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-2xl);
            align-items: center;
        }

        .registration-visual {
            text-align: center;
        }

        .registration-icon {
            width: 150px;
            height: 150px;
            background: var(--gradient-training);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-size: 3rem;
            color: var(--white);
            margin-bottom: var(--space-lg);
        }

        .registration-steps {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-md);
            padding: var(--space-lg);
            background: var(--gradient-card);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            transition: var(--transition-smooth);
        }

        .step-item:hover {
            transform: translateX(5px);
            border-color: var(--accent-blue);
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: var(--gradient-training);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 700;
            flex-shrink: 0;
        }

        /* ===== BENEFITS SECTION ===== */
        .benefits-section {
            background: var(--bg-primary);
            padding: var(--space-4xl) 0;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-xl);
            margin-top: var(--space-2xl);
        }

        .benefit-card {
            text-align: center;
            padding: var(--space-xl);
            background: var(--gradient-card);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            transition: var(--transition-smooth);
        }

        .benefit-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-blue);
            box-shadow: var(--shadow-lg);
        }

        .benefit-icon {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-lg);
            font-size: 1.5rem;
            color: var(--white);
            background: var(--gradient-training);
        }

        /* ===== ENROLLMENT CTA ===== */
        .enrollment-cta {
            background: var(--gradient-training);
            color: var(--white);
            padding: var(--space-4xl) 0;
            text-align: center;
            position: relative;
            overflow: hidden;
            border-radius: var(--radius-xl);
            margin: var(--space-4xl) auto;
            max-width: 1200px;
        }

        .enrollment-cta::before {
            content: '';
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(212, 175, 55, 0.05) 0%, transparent 50%);
        }

        .cta-content {
            position: relative;
            z-index: var(--z-normal);
        }

        .urgency-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            background: rgba(255, 255, 255, 0.2);
            color: var(--white);
            padding: var(--space-sm) var(--space-lg);
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            margin-bottom: var(--space-xl);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        /* ===== FOOTER ===== */
        .footer {
            background: var(--footer-bg);
            color: var(--white);
            padding: var(--space-4xl) 0 var(--space-xl);
            position: relative;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-xl);
        }

        .footer-logo {
            height: 40px;
            margin-bottom: var(--space-md);
            filter: brightness(0) invert(1);
        }

        .footer-section h3 {
            color: var(--primary-gold);
            margin-bottom: var(--space-md);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: var(--space-sm);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            transition: var(--transition-smooth);
        }

        .footer-section ul li:hover {
            color: var(--white);
            transform: translateX(4px);
        }

        .footer-section ul li a {
            color: inherit;
            text-decoration: none;
        }

        .copyright {
            text-align: center;
            padding-top: var(--space-xl);
            margin-top: var(--space-xl);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
            max-width: var(--container-width);
            margin-left: auto;
            margin-right: auto;
        }

        /* ===== ANIMATIONS ===== */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s var(--transition-smooth), 
                        transform 0.6s var(--transition-smooth);
        }

        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== LOADING STATES ===== */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space-2xl);
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-top-color: var(--primary-red);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: var(--space-md);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== MOBILE NAVIGATION ===== */
        @media (max-width: 1024px) {
            .nav-links {
                position: fixed;
                top: var(--header-height);
                left: 0;
                right: 0;
                background: var(--bg-primary);
                flex-direction: column;
                align-items: stretch;
                gap: 0;
                height: auto;
                max-height: calc(100vh - var(--header-height));
                overflow-y: auto;
                padding: var(--space-md);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
                            opacity 0.3s ease,
                            visibility 0.3s ease;
                box-shadow: var(--shadow-xl);
                border-top: 1px solid var(--border-color);
            }

            .nav-links.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }

            .nav-link {
                height: auto;
                padding: var(--space-md) var(--space-lg);
                border-radius: var(--radius-md);
                margin-bottom: var(--space-xs);
                display: flex;
                align-items: center;
            }

            .nav-link:hover {
                background: var(--bg-tertiary);
            }

            .nav-link::after {
                display: none;
            }

            .nav-links .btn-primary {
                margin: var(--space-md) 0 0 0;
                width: 100%;
                justify-content: center;
            }

            .mobile-menu-btn {
                display: flex;
                margin-left: auto;
            }

            .navbar {
                gap: var(--space-md);
                padding: 0 var(--space-lg);
            }
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            :root {
                --header-height: 64px;
                --nav-item-spacing: 1.5rem;
                --logo-size: 36px;
            }

            .navbar {
                padding: 0 var(--space-lg);
            }

            .logo-text {
                font-size: 1.25rem;
            }

            .training-hero {
                padding-top: var(--header-height);
            }

            h1 { font-size: 2.25rem; }
            h2 { font-size: 1.75rem; }
            h3 { font-size: 1.5rem; }

            .program-categories,
            .programs-grid,
            .outcomes-grid,
            .benefits-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin-left: auto;
                margin-right: auto;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: var(--space-md);
            }

            .hero-buttons .btn {
                width: 100%;
                max-width: 300px;
            }

            .hero-highlights {
                flex-direction: column;
                align-items: center;
            }

            .highlight-item {
                width: 100%;
                max-width: 300px;
            }

            .quarter-tabs {
                flex-direction: column;
                align-items: stretch;
            }

            .quarter-tab {
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            :root {
                --header-height: 60px;
                --logo-size: 32px;
            }

            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.25rem; }

            .container {
                padding: 0 var(--space-md);
            }

            .training-hero {
                padding-top: var(--header-height);
            }

            .training-badge {
                font-size: 0.75rem;
                padding: var(--space-xs) var(--space-md);
            }

            .btn {
                padding: var(--space-md) var(--space-lg);
                font-size: 0.9rem;
            }

            .program-image-container {
                height: 200px;
            }

            .program-content {
                padding: var(--space-lg);
            }

            .program-duration-badge {
                top: var(--space-sm);
                left: var(--space-sm);
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <!-- Firebase Status Indicator -->
    <div class="firebase-status" id="firebaseStatus" role="status" aria-live="polite">
        <i class="fas fa-circle"></i>
        <span>Live</span>
    </div>

    <!-- Data Update Indicator -->
    <div class="data-update-indicator" id="dataUpdateIndicator" role="alert" aria-live="polite">
        <i class="fas fa-sync-alt"></i>
        <span>Updating content...</span>
    </div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Header -->
    <header class="header" id="header">
        <nav class="navbar">
            <a href="index.html" class="logo">
                <img src="https://i.postimg.cc/kMZ1jTww/Untitled-design-4-removebg-preview.png" 
                     alt="DSOG" 
                     class="logo-image">
                <span class="logo-text">DSOG</span>
            </a>

            <ul class="nav-links" id="navLinks">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="enterprise.html" class="nav-link">Enterprise</a></li>
                <li><a href="events.html" class="nav-link">Events</a></li>
                <li><a href="training.html" class="nav-link active">Training</a></li>
                <li><a href="bootcamp.html" class="nav-link">Bootcamp</a></li>
                <li><a href="contact.html" class="btn btn-primary">Contact Us</a></li>
            </ul>

            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>

    <!-- Training Hero Section -->
    <section class="training-hero">
        <div class="container">
            <div class="training-hero-content">
                <div class="training-badge">
                    <i class="fas fa-graduation-cap"></i> STRUCTURED BUSINESS EDUCATION
                </div>
                
                <h1 id="heroTitle">Master Your Business Skills with <span class="text-gradient-training">DSOG Training</span></h1>
                <p class="lead" id="heroSubtitle">Comprehensive training programs with clear objectives, structured schedules, and measurable outcomes designed for sustainable business growth and professional development.</p>
                
                <div class="hero-highlights" id="heroHighlights">
                    <!-- Highlights loaded from Firebase -->
                </div>
                
                <div class="hero-buttons">
                    <a href="#programs" class="btn btn-training btn-large">
                        <i class="fas fa-graduation-cap"></i> View Training Programs
                    </a>
                    <a href="#schedules" class="btn btn-secondary btn-large">
                        <i class="fas fa-calendar-alt"></i> View Schedule
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Training Programs Section -->
    <section id="programs" class="training-programs">
        <div class="container">
            <div class="section-header">
                <span class="section-subtitle">Our Programs</span>
                <h2>Comprehensive <span class="text-gradient-training">Training Programs</span></h2>
            </div>
            
            <div class="programs-intro">
                <p>Our training programs are designed to equip professionals and entrepreneurs with the skills needed to thrive in today's competitive business landscape. Each program offers clear objectives, structured schedules, and measurable outcomes.</p>
            </div>
            
            <!-- Training Programs (Loaded from Firebase) -->
            <div id="trainingPrograms" class="program-categories">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading training programs...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Training Schedules Section -->
    <section id="schedules" class="training-schedules">
        <div class="container">
            <div class="section-header">
                <span class="section-subtitle">Upcoming Sessions</span>
                <h2>Training <span class="text-gradient-training">Schedules</span></h2>
                <p class="lead">Choose from our quarterly training schedules or flexible online programs. Enroll now to secure your spot in upcoming sessions.</p>
            </div>
            
            <!-- Quarter Tabs -->
            <div class="quarter-tabs" id="quarterTabs">
                <!-- Tabs loaded from Firebase -->
            </div>
            
            <!-- Programs Grid -->
            <div id="programsGrid" class="programs-grid">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading training schedules...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Training Outcomes Section -->
    <section class="training-outcomes">
        <div class="container">
            <div class="section-header">
                <span class="section-subtitle">Measurable Results</span>
                <h2>Training <span class="text-gradient-success">Outcomes</span></h2>
                <p class="lead">Our training programs deliver measurable results and tangible benefits for participants and their businesses.</p>
            </div>
            
            <!-- Outcomes (Loaded from Firebase) -->
            <div id="trainingOutcomes" class="outcomes-grid">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading outcomes...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Registration Info Section -->
    <section id="registration" class="registration-info">
        <div class="container">
            <div class="section-header">
                <span class="section-subtitle">Simple Enrollment</span>
                <h2>How to <span class="text-gradient-training">Enroll</span></h2>
                <p class="lead">Enrolling in our training programs is quick and easy. Follow these simple steps to start your learning journey.</p>
            </div>
            
            <div class="registration-container">
                <div class="registration-visual">
                    <div class="registration-icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <h3>Professional Development</h3>
                    <p>Invest in your professional growth with our certified training programs designed for real-world application.</p>
                    <div style="margin-top: var(--space-lg);">
                        <a href="https://wa.me/254733737983?text=I'm%20interested%20in%20DSOG%20Training%20Programs" 
                           class="btn btn-success btn-large" target="_blank">
                            <i class="fab fa-whatsapp"></i> Inquire via WhatsApp
                        </a>
                    </div>
                </div>
                
                <div class="registration-steps">
                    <div class="step-item animate-on-scroll">
                        <div class="step-number">1</div>
                        <div>
                            <h4>Choose Your Program</h4>
                            <p>Select from our available training programs based on your learning goals and schedule.</p>
                        </div>
                    </div>
                    
                    <div class="step-item animate-on-scroll">
                        <div class="step-number">2</div>
                        <div>
                            <h4>Select Schedule</h4>
                            <p>Pick a convenient schedule from our quarterly or online programs.</p>
                        </div>
                    </div>
                    
                    <div class="step-item animate-on-scroll">
                        <div class="step-number">3</div>
                        <div>
                            <h4>Enroll via WhatsApp</h4>
                            <p>Contact us via WhatsApp to complete your enrollment and payment.</p>
                        </div>
                    </div>
                    
                    <div class="step-item animate-on-scroll">
                        <div class="step-number">4</div>
                        <div>
                            <h4>Start Learning</h4>
                            <p>Access your training materials and join your first session.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="benefits-section">
        <div class="container">
            <div class="section-header">
                <span class="section-subtitle">Program Benefits</span>
                <h2>Why Choose <span class="text-gradient-training">DSOG Training</span></h2>
                <p class="lead">Our training programs offer unique benefits designed for maximum impact and practical application.</p>
            </div>
            
            <div class="benefits-grid">
                <div class="benefit-card animate-on-scroll">
                    <div class="benefit-icon">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <h4>Certification</h4>
                    <p>Receive recognized certification upon completion to validate your skills.</p>
                </div>
                
                <div class="benefit-card animate-on-scroll">
                    <div class="benefit-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h4>Practical Skills</h4>
                    <p>Learn skills that you can immediately apply in your business or career.</p>
                </div>
                
                <div class="benefit-card animate-on-scroll">
                    <div class="benefit-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h4>Expert Instructors</h4>
                    <p>Learn from experienced professionals with real-world business expertise.</p>
                </div>
                
                <div class="benefit-card animate-on-scroll">
                    <div class="benefit-icon">
                        <i class="fas fa-network-wired"></i>
                    </div>
                    <h4>Network Building</h4>
                    <p>Connect with like-minded professionals and expand your business network.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Enrollment CTA Section -->
    <section class="enrollment-cta">
        <div class="container">
            <div class="cta-content">
                <div class="urgency-badge">
                    <i class="fas fa-clock"></i> LIMITED SEATS AVAILABLE
                </div>
                
                <h2 style="color: var(--white);">Start Your <span style="color: var(--primary-gold);">Professional Journey Today</span></h2>
                <p class="lead">Transform your career and business with our comprehensive training programs. Limited seats available in each cohort - secure your spot now.</p>
                
                <div class="hero-buttons">
                    <a href="#schedules" class="btn btn-gold btn-large">
                        <i class="fas fa-calendar-alt"></i> View Available Schedules
                    </a>
                    <a href="https://wa.me/254733737983?text=I'm%20interested%20in%20DSOG%20Training%20Programs" 
                       class="btn btn-success btn-large" target="_blank">
                        <i class="fab fa-whatsapp"></i> Enroll via WhatsApp
                    </a>
                </div>
                
                <div style="margin-top: var(--space-xl); font-size: 0.9rem; opacity: 0.9; color: rgba(255,255,255,0.9);">
                    <p><i class="fas fa-phone-alt"></i> Call: +254 733 737 983  <i class="fab fa-whatsapp"></i> WhatsApp: +254733737983  <i class="fas fa-envelope"></i> Email: office.dsog@gmail.com</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <img src="https://i.postimg.cc/kMZ1jTww/Untitled-design-4-removebg-preview.png" 
                         alt="DSOG" 
                         class="footer-logo">
                    <p>Empowering professionals and entrepreneurs through comprehensive training programs with structured schedules and measurable outcomes.</p>
                    <div class="training-badge" style="margin-top: var(--space-md); background: rgba(255,255,255,0.1); color: white;">
                        <i class="fas fa-graduation-cap"></i> PROFESSIONAL TRAINING
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Training Programs</h3>
                    <ul id="footerPrograms">
                        <li><a href="#programs">All Programs</a></li>
                        <li><a href="#schedules">Training Schedules</a></li>
                        <li><a href="#outcomes">Program Outcomes</a></li>
                        <li><a href="#registration">How to Enroll</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About DSOG</a></li>
                        <li><a href="enterprise.html">Enterprise Solutions</a></li>
                        <li><a href="events.html">Events</a></li>
                        <li><a href="training.html">Training Programs</a></li>
                        <li><a href="contact.html">Contact Support</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Contact Training</h3>
                    <ul>
                        <li><i class="fas fa-phone-alt"></i> +254 733 737 983</li>
                        <li><i class="fab fa-whatsapp"></i> +254733737983</li>
                        <li><i class="fas fa-headset"></i> Training Inquiries</li>
                        <li><i class="fas fa-envelope"></i> office.dsog@gmail.com</li>
                        <li><i class="fas fa-clock"></i> Mon-Fri: 8 AM - 5 PM</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; <span id="currentYear"></span> DSOG Training - Professional Development Programs. All rights reserved.</p>
                <p style="margin-top: var(--space-sm); font-size: 0.85rem;">Structured Education  Measurable Outcomes  Professional Certification  WhatsApp: +254733737983</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
    // ============================================
    // FIREBASE CONFIGURATION
    // ============================================
    const firebaseConfig = {
        apiKey: "AIzaSyDb5ZFHbo7lGM8ph0oBxFVTHRF5C5C_DWU",
        authDomain: "dsog-events.firebaseapp.com",
        databaseURL: "https://dsog-events-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "dsog-events",
        storageBucket: "dsog-events.firebasestorage.app",
        messagingSenderId: "1075977932287",
        appId: "1:1075977932287:web:b2bf4d1c0083d2dac8ebca"
    };

    // Initialize Firebase
    let db;
    let firebaseListeners = [];
    let isFirebaseInitialized = false;
    let currentQuarter = 'q1'; // Default quarter

    try {
        firebase.initializeApp(firebaseConfig);
        db = firebase.database();
        isFirebaseInitialized = true;
        console.log('Firebase initialized successfully for Training Page');
    } catch (error) {
        console.error('Firebase initialization error:', error);
        isFirebaseInitialized = false;
    }

    // Cache management
    const CACHE_KEY = 'dsog_training_cache';
    const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes

    // Update management
    let lastUpdateTime = 0;
    const UPDATE_DEBOUNCE_TIME = 2000; // 2 seconds between updates
    let updateTimeout = null;

    // ============================================
    // INITIALIZATION
    // ============================================
    document.addEventListener('DOMContentLoaded', function() {
        console.log(' DSOG Training System Loaded');
        
        // Initialize all components
        initializeTheme();
        initializeNavigation();
        initializeAnimations();
        initializeScrollEffects();
        
        // Set current year
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // Load from cache first for instant display
        const cachedData = getCachedData();
        if (cachedData && !isCacheExpired(cachedData.timestamp)) {
            console.log('Loading from cache for instant display');
            displayCachedData(cachedData);
        }
        
        // Initialize Firebase connection
        if (isFirebaseInitialized) {
            initializeFirebaseConnection();
            setupRealtimeListeners();
        } else {
            showFirebaseStatus('offline');
            console.warn('Firebase not available, using cached data only');
        }
        
        console.log('Training system initialized with real-time updates');
    });

    // ============================================
    // FIREBASE CONNECTION MANAGEMENT
    // ============================================
    function initializeFirebaseConnection() {
        if (!isFirebaseInitialized) return;
        
        // Monitor connection status
        const connectedRef = db.ref('.info/connected');
        connectedRef.on('value', (snap) => {
            if (snap.val() === true) {
                showFirebaseStatus('online');
                console.log('Connected to Firebase - Real-time updates active');
            } else {
                showFirebaseStatus('offline');
                console.log('Disconnected from Firebase - Using cached data');
            }
        });
    }

    function showFirebaseStatus(status) {
        const statusEl = document.getElementById('firebaseStatus');
        if (!statusEl) return;
        
        if (status === 'online') {
            statusEl.classList.remove('offline');
            statusEl.innerHTML = '<i class="fas fa-circle"></i><span>Live</span>';
            statusEl.setAttribute('aria-label', 'Connected to live updates');
        } else {
            statusEl.classList.add('offline');
            statusEl.innerHTML = '<i class="fas fa-circle"></i><span>Offline</span>';
            statusEl.setAttribute('aria-label', 'Using cached data - offline mode');
        }
    }

    function showUpdateIndicator(type) {
        const now = Date.now();
        if (now - lastUpdateTime < UPDATE_DEBOUNCE_TIME) return;
        
        lastUpdateTime = now;
        
        const indicator = document.getElementById('dataUpdateIndicator');
        if (!indicator) return;
        
        indicator.querySelector('span').textContent = `${type} updated`;
        indicator.classList.add('show');
        
        // Auto-hide after 3 seconds
        setTimeout(() => {
            indicator.classList.remove('show');
        }, 3000);
    }

    // ============================================
    // SILENT REAL-TIME UPDATES
    // ============================================
    function setupRealtimeListeners() {
        if (!isFirebaseInitialized) return;
        
        console.log('Setting up silent real-time listeners for training...');
        
        // Remove any existing listeners
        removeAllListeners();
        
        // Debounced update function
        const debouncedUpdate = (type) => {
            if (updateTimeout) clearTimeout(updateTimeout);
            
            updateTimeout = setTimeout(() => {
                showUpdateIndicator(type);
            }, UPDATE_DEBOUNCE_TIME);
        };
        
        // 1. Training Page Content (Hero)
        const trainingContentRef = db.ref('trainingPageContent');
        const trainingContentListener = trainingContentRef.on('value', (snapshot) => {
            const data = snapshot.val();
            if (data) {
                displayTrainingHero(data);
                saveToCachePartial('trainingPageContent', data);
                debouncedUpdate('Training Content');
            }
        });
        firebaseListeners.push({ ref: trainingContentRef, listener: trainingContentListener });
        
        // 2. Training Programs
        const programsRef = db.ref('trainingPrograms');
        const programsListener = programsRef.on('value', (snapshot) => {
            const data = snapshot.val();
            if (data) {
                displayTrainingPrograms(data);
                saveToCachePartial('trainingPrograms', data);
                debouncedUpdate('Programs');
            }
        });
        firebaseListeners.push({ ref: programsRef, listener: programsListener });
        
        // 3. Training Schedules
        const schedulesRef = db.ref('trainingSchedules');
        const schedulesListener = schedulesRef.on('value', (snapshot) => {
            const data = snapshot.val();
            if (data) {
                displayTrainingSchedules(data);
                saveToCachePartial('trainingSchedules', data);
                debouncedUpdate('Schedules');
            }
        });
        firebaseListeners.push({ ref: schedulesRef, listener: schedulesListener });
        
        // 4. Training Outcomes
        const outcomesRef = db.ref('trainingPageContent/outcomes');
        const outcomesListener = outcomesRef.on('value', (snapshot) => {
            const data = snapshot.val();
            if (data) {
                displayTrainingOutcomes(data);
                saveToCachePartial('trainingOutcomes', data);
                debouncedUpdate('Outcomes');
            }
        });
        firebaseListeners.push({ ref: outcomesRef, listener: outcomesListener });
        
        console.log(`Setup ${firebaseListeners.length} silent real-time listeners for training`);
    }

    function removeAllListeners() {
        firebaseListeners.forEach(({ ref, listener }) => {
            if (ref && listener) {
                ref.off('value', listener);
            }
        });
        firebaseListeners = [];
    }

    // ============================================
    // CACHE MANAGEMENT
    // ============================================
    function getCachedData() {
        try {
            const cached = localStorage.getItem(CACHE_KEY);
            return cached ? JSON.parse(cached) : null;
        } catch (error) {
            console.error('Error reading cache:', error);
            return null;
        }
    }

    function saveToCachePartial(key, data) {
        try {
            const cached = getCachedData() || { timestamp: Date.now(), data: {} };
            cached.data[key] = data;
            cached.timestamp = Date.now();
            localStorage.setItem(CACHE_KEY, JSON.stringify(cached));
        } catch (error) {
            console.error('Error saving to cache:', error);
        }
    }

    function isCacheExpired(timestamp) {
        return Date.now() - timestamp > CACHE_DURATION;
    }

    function displayCachedData(cachedData) {
        const data = cachedData.data;
        
        if (data.trainingPageContent) {
            displayTrainingHero(data.trainingPageContent);
        }
        
        if (data.trainingPrograms) {
            displayTrainingPrograms(data.trainingPrograms);
        }
        
        if (data.trainingSchedules) {
            displayTrainingSchedules(data.trainingSchedules);
        }
        
        if (data.trainingOutcomes) {
            displayTrainingOutcomes(data.trainingOutcomes);
        }
    }

    // ============================================
    // UI UPDATES - USING ACTUAL FIREBASE DATA
    // ============================================
    function displayTrainingHero(data) {
        const hero = data.hero || {};
        
        // Update hero title
        const heroTitle = document.getElementById('heroTitle');
        if (heroTitle && hero.title) {
            heroTitle.innerHTML = hero.title.replace('DSOG Training', '<span class="text-gradient-training">DSOG Training</span>');
        }
        
        // Update hero subtitle
        const heroSubtitle = document.getElementById('heroSubtitle');
        if (heroSubtitle && hero.subtitle) {
            heroSubtitle.textContent = hero.subtitle;
        }
        
        // Update hero badge
        const trainingBadge = document.querySelector('.training-badge');
        if (trainingBadge && hero.badge) {
            trainingBadge.innerHTML = `<i class="fas fa-graduation-cap"></i> ${hero.badge}`;
        }
        
        // Update highlights
        const heroHighlights = document.getElementById('heroHighlights');
        if (heroHighlights && hero.highlights && Array.isArray(hero.highlights)) {
            heroHighlights.innerHTML = '';
            hero.highlights.forEach(highlight => {
                const highlightItem = document.createElement('div');
                highlightItem.className = 'highlight-item animate-on-scroll';
                highlightItem.innerHTML = `
                    <div class="highlight-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div>
                        <strong>${highlight}</strong>
                        <div style="font-size: 0.85rem; color: var(--text-tertiary); margin-top: 2px;">Included</div>
                    </div>
                `;
                heroHighlights.appendChild(highlightItem);
            });
            
            // Initialize animations for new highlights
            setTimeout(() => {
                initializeAnimations();
            }, 100);
        }
    }

    function displayTrainingPrograms(programs) {
        const programsContainer = document.getElementById('trainingPrograms');
        const footerPrograms = document.getElementById('footerPrograms');
        
        if (!programsContainer) return;
        
        // Convert to array and filter active programs
        const programsArray = programs ? Object.values(programs)
            .filter(program => program.active !== false)
            .sort((a, b) => (a.order || 999) - (b.order || 999)) : [];
        
        if (programsArray.length > 0) {
            // Update main programs display
            programsContainer.innerHTML = '';
            programsArray.forEach((program, index) => {
                const programCard = createProgramCard(program, index);
                programsContainer.appendChild(programCard);
            });
            
            // Update footer programs list (limit to 4)
            if (footerPrograms) {
                const footerList = programsArray.slice(0, 4).map(program => 
                    `<li><a href="#program-${program.id}">${program.name}</a></li>`
                ).join('');
                footerPrograms.innerHTML = footerList;
            }
            
            // Initialize animations for new cards
            setTimeout(() => {
                initializeAnimations();
            }, 100);
        } else {
            programsContainer.innerHTML = `
                <div class="category-card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl);">
                    <div class="category-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Training Programs</h3>
                    <p>Our training programs are currently being updated. Check back soon for exciting new courses!</p>
                </div>
            `;
        }
    }

    function displayTrainingSchedules(schedules) {
        const tabsContainer = document.getElementById('quarterTabs');
        const gridContainer = document.getElementById('programsGrid');
        
        if (!tabsContainer || !gridContainer) return;
        
        // Convert to array and filter active schedules
        const schedulesArray = schedules ? Object.values(schedules)
            .filter(schedule => schedule.active !== false)
            .sort((a, b) => {
                const order = { 'online': 0, 'q1': 1, 'q2': 2, 'q3': 3, 'q4': 4 };
                return (order[a.quarter] || 99) - (order[b.quarter] || 99);
            }) : [];
        
        if (schedulesArray.length > 0) {
            // Create quarter tabs
            tabsContainer.innerHTML = '';
            schedulesArray.forEach((schedule, index) => {
                const tab = document.createElement('div');
                tab.className = `quarter-tab ${schedule.quarter === currentQuarter ? 'active' : ''}`;
                tab.textContent = schedule.name || schedule.quarter.toUpperCase();
                tab.dataset.quarter = schedule.quarter;
                tab.addEventListener('click', () => {
                    switchQuarter(schedule.quarter);
                });
                tabsContainer.appendChild(tab);
            });
            
            // Display programs for current quarter
            displayQuarterPrograms(currentQuarter, schedules);
        } else {
            gridContainer.innerHTML = `
                <div class="program-card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl);">
                    <div class="program-content">
                        <h3>Training Schedules</h3>
                        <p>Training schedules are currently being planned. Check back soon for upcoming sessions!</p>
                        <a href="https://wa.me/254733737983?text=I'm%20interested%20in%20DSOG%20Training%20Schedules" 
                           class="btn btn-training" style="margin-top: var(--space-lg);" target="_blank">
                            <i class="fab fa-whatsapp"></i> Inquire about Schedules
                        </a>
                    </div>
                </div>
            `;
        }
    }

    function displayQuarterPrograms(quarter, schedules) {
        const gridContainer = document.getElementById('programsGrid');
        if (!gridContainer) return;
        
        const quarterData = schedules[quarter];
        
        if (quarterData && quarterData.programs) {
            const programsArray = Object.values(quarterData.programs)
                .filter(program => program.active !== false)
                .sort((a, b) => (a.order || 999) - (b.order || 999));
            
            if (programsArray.length > 0) {
                gridContainer.innerHTML = '';
                programsArray.forEach((program, index) => {
                    const programCard = createScheduleCard(program, index, quarter);
                    gridContainer.appendChild(programCard);
                });
            } else {
                gridContainer.innerHTML = `
                    <div class="program-card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl);">
                        <div class="program-content">
                            <h3>No Programs Scheduled</h3>
                            <p>There are no programs scheduled for this quarter yet. Please check other quarters or contact us for information.</p>
                            <button class="btn btn-outline" style="margin-top: var(--space-lg);" onclick="switchQuarter('online')">
                                Check Online Programs
                            </button>
                        </div>
                    </div>
                `;
            }
        } else {
            gridContainer.innerHTML = `
                <div class="program-card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl);">
                    <div class="program-content">
                        <h3>Schedule Not Available</h3>
                        <p>The schedule for this quarter is not available yet. Please check back soon or contact us for information.</p>
                    </div>
                </div>
            `;
        }
        
        // Initialize animations for new cards
        setTimeout(() => {
            initializeAnimations();
        }, 100);
    }

    function displayTrainingOutcomes(outcomes) {
        const outcomesContainer = document.getElementById('trainingOutcomes');
        if (!outcomesContainer) return;
        
        if (outcomes && Array.isArray(outcomes)) {
            outcomesContainer.innerHTML = '';
            outcomes.forEach((outcome, index) => {
                const outcomeCard = createOutcomeCard(outcome, index);
                outcomesContainer.appendChild(outcomeCard);
            });
        } else {
            outcomesContainer.innerHTML = `
                <div class="outcome-card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl);">
                    <div class="outcome-number">95%</div>
                    <h4>Completion Rate</h4>
                    <p>High program completion rates indicating engaging, valuable, and well-structured content.</p>
                </div>
            `;
        }
        
        // Initialize animations for new cards
        setTimeout(() => {
            initializeAnimations();
        }, 100);
    }

    // ============================================
    // CARD CREATION FUNCTIONS - USING REAL DATA
    // ============================================
    function createProgramCard(program, index) {
        const card = document.createElement('div');
        card.className = 'category-card animate-on-scroll';
        card.id = `program-${program.id}`;
        card.dataset.delay = index * 100;
        
        card.innerHTML = `
            <div class="category-icon">
                <i class="${program.icon || 'fas fa-briefcase'}"></i>
            </div>
            <span class="category-tag">${program.duration || 'FLEXIBLE DURATION'}</span>
            <h3 class="text-gradient-training">${program.name || 'Training Program'}</h3>
            <p>${program.description || 'Comprehensive training program designed for business growth.'}</p>
            <div style="margin-top: auto; padding-top: var(--space-md);">
                <a href="#schedules" class="btn btn-training" style="width: 100%;" onclick="switchQuarter('online')">
                    <i class="fas fa-calendar-check"></i> View Schedules
                </a>
            </div>
        `;
        
        return card;
    }

    function createScheduleCard(program, index, quarter) {
        const card = document.createElement('div');
        card.className = 'program-card animate-on-scroll';
        card.dataset.delay = index * 100;
        
        // Format date if available
        let dateText = 'Date TBD';
        if (program.startDate && program.startDate !== 'Rolling Admission') {
            try {
                const startDate = new Date(program.startDate);
                if (!isNaN(startDate.getTime())) {
                    dateText = startDate.toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric'
                    });
                }
            } catch (error) {
                console.error('Error formatting date:', error);
            }
        } else if (program.startDate === 'Rolling Admission') {
            dateText = 'Rolling Admission';
        }
        
        // Create WhatsApp enrollment URL
        const whatsappUrl = program.enrollmentUrl || 
                          `https://wa.me/254733737983?text=I'm%20interested%20in%20${encodeURIComponent(program.programName || 'Training Program')}`;

        card.innerHTML = `
            <div class="program-image-container">
                <img src="${getTrainingImage(program.programId || quarter)}" 
                     alt="${program.programName || 'Training Program'}" 
                     class="program-image"
                     onerror="this.src='${getDefaultTrainingImage()}'">
                <div class="program-duration-badge">
                    <i class="fas fa-clock"></i> ${program.duration || 'Flexible'}
                </div>
            </div>
            <div class="program-content">
                <span class="program-category">${quarter === 'online' ? 'ONLINE' : 'IN-PERSON'}</span>
                <div class="program-details">
                    <h3>${program.programName || 'Training Program'}</h3>
                    <p>${program.schedule || 'Flexible schedule to suit your needs'}</p>
                    
                    <div class="program-meta">
                        <div class="meta-item">
                            <i class="fas fa-calendar"></i>
                            <span>${dateText}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-clock"></i>
                            <span>${program.duration || 'Flexible'}</span>
                        </div>
                    </div>
                </div>
                <div class="enroll-button">
                    <a href="${whatsappUrl}" 
                       class="btn btn-success btn-block" 
                       target="_blank">
                        <i class="fab fa-whatsapp"></i> Enroll Now
                    </a>
                </div>
            </div>
        `;
        
        return card;
    }

    function createOutcomeCard(outcome, index) {
        const card = document.createElement('div');
        card.className = 'outcome-card animate-on-scroll';
        card.dataset.delay = index * 100;
        
        card.innerHTML = `
            <div class="outcome-number">${outcome.percentage || '95'}%</div>
            <h4>${outcome.title || 'Completion Rate'}</h4>
            <p>${outcome.description || 'High program completion rates indicating engaging content.'}</p>
        `;
        
        return card;
    }

    // ============================================
    // HELPER FUNCTIONS
    // ============================================
    function getTrainingImage(programId) {
        const imageMap = {
            'program_001': 'https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'program_002': 'https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'program_003': 'https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'program_1768478371143': 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'online': 'https://images.unsplash.com/photo-1498049794561-7780e7231661?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'q1': 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'q2': 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'q3': 'https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            'q4': 'https://images.unsplash.com/photo-1556761175-b413da4baf72?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
        };
        
        return imageMap[programId] || getDefaultTrainingImage();
    }

    function getDefaultTrainingImage() {
        return 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
    }

    function switchQuarter(quarter) {
        currentQuarter = quarter;
        
        // Update active tab
        document.querySelectorAll('.quarter-tab').forEach(tab => {
            tab.classList.toggle('active', tab.dataset.quarter === quarter);
        });
        
        // Load data for selected quarter
        if (isFirebaseInitialized) {
            db.ref('trainingSchedules').once('value').then(snapshot => {
                const schedules = snapshot.val();
                displayQuarterPrograms(quarter, schedules);
            });
        } else {
            // Use cached data
            const cachedData = getCachedData();
            if (cachedData && cachedData.data.trainingSchedules) {
                displayQuarterPrograms(quarter, cachedData.data.trainingSchedules);
            }
        }
    }

    // ============================================
    // CORE FUNCTIONS
    // ============================================
    function initializeTheme() {
        const themeToggle = document.getElementById('themeToggle');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');
        
        const savedTheme = localStorage.getItem('theme');
        const systemTheme = prefersDark.matches ? 'dark' : 'light';
        const initialTheme = savedTheme || systemTheme;
        
        document.documentElement.setAttribute('data-theme', initialTheme);
        updateThemeIcon(initialTheme);
        
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            document.body.style.transition = 'background-color 0.3s ease, color 0.3s ease';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
            
            setTimeout(() => {
                document.body.style.transition = '';
            }, 300);
        });
        
        prefersDark.addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                const newTheme = e.matches ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', newTheme);
                updateThemeIcon(newTheme);
            }
        });
        
        function updateThemeIcon(theme) {
            const icon = themeToggle.querySelector('i');
            if (theme === 'dark') {
                icon.className = 'fas fa-sun';
                themeToggle.setAttribute('aria-label', 'Switch to light theme');
            } else {
                icon.className = 'fas fa-moon';
                themeToggle.setAttribute('aria-label', 'Switch to dark theme');
            }
        }
    }

    function initializeNavigation() {
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        
        if (mobileMenuBtn && navLinks) {
            mobileMenuBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                navLinks.classList.toggle('active');
                const icon = this.querySelector('i');
                icon.className = navLinks.classList.contains('active') ? 'fas fa-times' : 'fas fa-bars';
                this.setAttribute('aria-expanded', navLinks.classList.contains('active'));
                
                if (navLinks.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            });

            document.addEventListener('click', function(event) {
                if (!navLinks.contains(event.target) && !mobileMenuBtn.contains(event.target) && navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    mobileMenuBtn.querySelector('i').className = 'fas fa-bars';
                    mobileMenuBtn.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                }
            });

            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth <= 1024) {
                        navLinks.classList.remove('active');
                        mobileMenuBtn.querySelector('i').className = 'fas fa-bars';
                        mobileMenuBtn.setAttribute('aria-expanded', 'false');
                        document.body.style.overflow = '';
                    }
                });
            });
            
            window.addEventListener('resize', () => {
                if (window.innerWidth > 1024) {
                    navLinks.classList.remove('active');
                    mobileMenuBtn.querySelector('i').className = 'fas fa-bars';
                    mobileMenuBtn.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                }
            });
        }

        // Header scroll effect
        const header = document.getElementById('header');
        if (header) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        }

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                
                if (href.startsWith('#') && href !== '#') {
                    e.preventDefault();
                    
                    const targetId = href.substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        const headerHeight = document.getElementById('header') ? document.getElementById('header').offsetHeight : 72;
                        const targetPosition = targetElement.offsetTop - headerHeight - 20;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                        
                        history.pushState(null, '', href);
                    }
                }
            });
        });
    }

    function initializeAnimations() {
        const animatedElements = document.querySelectorAll('.animate-on-scroll');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const delay = entry.target.dataset.delay || 0;
                    setTimeout(() => {
                        entry.target.classList.add('animated');
                    }, delay);
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        });
        
        animatedElements.forEach((element, index) => {
            if (!element.dataset.delay) {
                element.dataset.delay = index * 100;
            }
            observer.observe(element);
        });
    }

    function initializeScrollEffects() {
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            
            // Add parallax effect to hero
            const hero = document.querySelector('.training-hero');
            if (hero) {
                const scrolled = window.pageYOffset;
                const rate = scrolled * -0.5;
                hero.style.transform = `translate3d(0, ${rate}px, 0)`;
            }
            
            lastScroll = currentScroll;
        });
    }

    // ============================================
    // GLOBAL FUNCTIONS
    // ============================================
    // Make functions globally available
    window.switchQuarter = switchQuarter;

    // Touch device optimizations
    let lastTouchEnd = 0;
    document.addEventListener('touchend', function(event) {
        const now = Date.now();
        if (now - lastTouchEnd <= 300) {
            event.preventDefault();
        }
        lastTouchEnd = now;
    }, false);

    // Add CSS for firebase-status and data-update-indicator
    const style = document.createElement('style');
    style.textContent = `
        .firebase-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            padding: 8px 12px;
            border-radius: var(--radius-md);
            font-size: 12px;
            z-index: 9999;
            background: #28a745;
            color: white;
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            gap: 6px;
            transition: var(--transition-smooth);
        }
        
        .firebase-status.offline {
            background: #dc3545;
        }
        
        .firebase-status i {
            font-size: 10px;
        }
        
        .data-update-indicator {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 12px 16px;
            background: var(--primary-red);
            color: white;
            border-radius: var(--radius-lg);
            font-size: 14px;
            z-index: 10000;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 8px;
            transform: translateX(120%);
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .data-update-indicator.show {
                transform: translateX(0);
        }
        
        .data-update-indicator i {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient-primary);
            color: white;
            border: none;
            cursor: pointer;
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: var(--shadow-lg);
            transition: var(--transition-smooth);
        }
        
        .theme-toggle:hover {
            transform: translateY(-2px) scale(1.05);
        }
    `;
    document.head.appendChild(style);
    
    // Debug helper
    console.log('DSOG Training JavaScript loaded successfully');
    console.log('Current Quarter:', currentQuarter);
    console.log('WhatsApp Number: +254733737983');
    console.log('Email: office.dsog@gmail.com');
    </script>
</body>
</html>
